# ASM Backend Application - Environment Configuration
# Copy this file to .env and update with your actual values

# ===========================================
# REQUIRED - Application must have these set
# ===========================================

# Environment (development, production, test)
NODE_ENV=development

# Server port
PORT=5000

# Database connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
# Example: postgresql://postgres:password@localhost:5432/asm_db
DATABASE_URL=postgresql://user:password@localhost:5432/asm_db

# JWT Secret for signing tokens
# IMPORTANT: Change this to a secure random string (minimum 32 characters)
# Generate with: openssl rand -base64 32
# Or: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_key_here_change_in_production

# ===========================================
# OPTIONAL - Have sensible defaults
# ===========================================

# JWT token expiration time
# Examples: 7d (7 days), 24h (24 hours), 60m (60 minutes)
JWT_EXPIRE=7d

# Password hashing rounds (higher = more secure but slower)
# Recommended: 10-12 for production
BCRYPT_ROUNDS=10

# CORS allowed origin
# Use specific domain in production: https://yourdomain.com
# Use * for development (allows all origins)
CORS_ORIGIN=http://localhost:3000

# ===========================================
# AWS S3 Configuration (for document uploads)
# ===========================================

# AWS Access Key ID
# Get from AWS IAM console
AWS_ACCESS_KEY_ID=your_aws_key

# AWS Secret Access Key
# Get from AWS IAM console
AWS_SECRET_ACCESS_KEY=your_aws_secret

# AWS Region
# Examples: us-east-1, eu-west-2, ap-southeast-1
AWS_REGION=eu-west-2

# S3 Bucket Name
# Must be globally unique
# Create in AWS S3 console
AWS_S3_BUCKET=asm-documents

# ===========================================
# Development-specific
# ===========================================

# Log level (for development debugging)
# Options: error, warn, info, debug
LOG_LEVEL=debug

# ===========================================
# Production Notes
# ===========================================

# For production deployment:
# 1. Set NODE_ENV=production
# 2. Use a strong JWT_SECRET (32+ random characters)
# 3. Set CORS_ORIGIN to your actual domain
# 4. Increase BCRYPT_ROUNDS to 12
# 5. Use secure DATABASE_URL with strong password
# 6. Configure real AWS credentials
# 7. Enable SSL/TLS for database connection
# 8. Use environment variables, not .env file

# ===========================================
# Example Production Configuration
# ===========================================

# NODE_ENV=production
# PORT=5000
# DATABASE_URL="******production-db.region.rds.amazonaws.com:5432/asm_db?sslmode=require"
# JWT_SECRET="<generated-with-openssl-rand-base64-32>"
# JWT_EXPIRE=7d
# BCRYPT_ROUNDS=12
# CORS_ORIGIN=https://yourdomain.com
# AWS_ACCESS_KEY_ID=<production-key>
# AWS_SECRET_ACCESS_KEY=<production-secret>
# AWS_REGION=us-east-1
# AWS_S3_BUCKET=asm-production-documents

# ===========================================
# Docker Deployment
# ===========================================

# When using docker-compose, you can use:
# DATABASE_URL="******postgres:5432/asm_db"
# (postgres is the service name in docker-compose.yml)

# ===========================================
# Security Checklist
# ===========================================

# ✓ JWT_SECRET is NOT the default value
# ✓ JWT_SECRET is at least 32 characters
# ✓ DATABASE_URL uses strong password
# ✓ CORS_ORIGIN is set to specific domain (production)
# ✓ .env file is in .gitignore (never commit secrets!)
# ✓ AWS credentials are from IAM user with minimal permissions
# ✓ S3 bucket has proper access policies
